const { callAI } = require('./lib/ai'); const { buildCompanyExtractionPrompt } = require('./lib/prompt'); async function testExtraction() { console.log('--- Testing AI Company Extraction ---'); const sampleJD = 'Join the engineering team at SpaceX to build rockets. We need C++ developers.'; const prompt = buildCompanyExtractionPrompt(sampleJD); console.log('Sending sample JD to Codex...'); try { const result = await (await callAI(prompt, 'codex')).trim(); console.log(`Result from Codex: "${result}"`); if (result.toLowerCase().includes('spacex')) { console.log('SUCCESS: Codex extracted SpaceX.'); } else { console.log('FAIL: Codex did not extract SpaceX.'); } } catch (err) { console.error('Codex error:', err.message); } console.log('\nSending sample JD to Claude...'); try { const result = await (await callAI(prompt, 'claude')).trim(); console.log(`Result from Claude: "${result}"`); if (result.toLowerCase().includes('spacex')) { console.log('SUCCESS: Claude extracted SpaceX.'); } else { console.log('FAIL: Claude did not extract SpaceX.'); } } catch (err) { console.error('Claude error:', err.message); } } testExtraction();